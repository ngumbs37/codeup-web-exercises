<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" crossorigin="anonymous"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        body{
            background: cornflowerblue;
            padding:1em;

        }
        .card {
            padding:15px;
            align-content: center;
            margin: auto;
        }
        h2{
            display: block;
        }

    </style>
</head>
<body>
<div id="weather-box" class="container">
    <h1>Weather App</h1>
    <h3 id="location"></h3>
    <form id="form">
    <label for="latitude"> Latitude:
        <input id="latitude" type="text">
    </label>
    <label for="longitude">Longitude:
        <input id="longitude" type="text">
    </label>

    <button id="btn"> Submit </button>
    </form>
<div id="weather-cards" class="row">

<div class="container" id="map"></div>


</div>
</div>

<script src="js/jquery-2.2.4.min.js"></script>
<script>
    var weatherHtml= '';
    var weatherDays = [];

    $.ajax({
        url: "https://api.openweathermap.org/data/2.5/forecast",
        type: "GET",
        data: {
            APPID: "8f10d7c0f2d629d9b8393a051cbf7151",
            q: "San Antonio, US",
            units: "imperial"
        }
    }).done(function(data) {
        for (var i = 0; i < 24; i+=8) {
            weatherDays.push(data.list[i]);
        }

        console.log(weatherDays);
        weatherHtml += build(weatherDays);

        $('#location').html(data.city.name+ ", " + data.city.country);
        $('#weather-cards').html(weatherHtml);


    });
    $('#btn').click(function(event) {
        event.preventDefault();

        document.querySelector('#form').reset();
    });
    function build(weatherCards){
        var cards = '';
        weatherCards.forEach(function(card) {
            var iconURL = "'http://openweathermap.org/img/w/"+ card.weather[0].icon+".png'";
            cards += "<div class='card col-4 text-center'><div>"
                + "<h3>" + Math.floor(card.main.temp_min) + "˚/ " +  Math.floor(card.main.temp_max) + "˚</h3>"
                + "<img src="+ iconURL + ">"+ "<br>"
                + "<strong>"+card.weather[0].main+": </strong>" + card.weather[0].description + ""+ "<br>"
                + "<strong>Humidity: "+"</strong>"+ card.main.humidity + "<br>"
                + "<strong>Wind: "+"</strong>"+ card.wind.speed + "<br>"
                + "<strong>Pressure: "+"</strong>"+card.main.pressure
                + "</div></div>";
        });
        return cards;
    }



</script>

</body>
</html>